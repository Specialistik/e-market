!function(e){"use strict";e.fn.extend({validateForm:function(r){e.fn.hasAttr=function(e){return void 0!==this.attr(e)};var a,s={rules:{required:!0,email:!0,number:!0,maxlength:10,minlength:2},messages:{required:"Это поле обязательно для заполнения",email:"Неверный формат email",number:"Только цифры",maxlength:"Максимальное количество символов",minlength:"Минимальное количество символов"},elementContainer:"error_form_container",errorClassEl:"error",errorClass:"error_massage",errorEl:"div"};r.rules=e.extend(s.rules,r.rules),r.messages=e.extend(s.messages,r.messages),a=e.extend(s,r);var t={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,number:/^\d+$/};this.each(function(){var r=e(this),s={regexp:function(e,r){return t[r].test(e)},checkForm:function(){r.find("."+a.errorClassEl).length?r.addClass("no_validate"):(r.removeClass("no_validate").addClass("validate_form"),r.submit())},validate:function(r){var s=this;r.closest("."+a.elementContainer).removeClass(a.errorClassEl).find("."+a.errorClass).remove();var t=e.trim(r.val()),i=r.data("name"),n=a.rules[i]?a.rules[i]:0;if(("checkbox"==r.attr("type")||"radio"==r.attr("type"))&&!r.prop("checked")&&(r.hasAttr("required")||n.required)){var l=s.errorMassage("required",a.messages[i]);s.addError(r,l)}if(""==t){if(n&&n.required){l=s.errorMassage("required",a.messages[i]);s.addError(r,l)}else if(r.hasAttr("required")){l=s.errorMassage("required",a.messages[i]);s.addError(r,l)}}else if(n){for(var o in n)if("email"==o&&n[o]){if(!s.regexp(t,"email")){l=s.errorMassage("email",a.messages[i]);s.addError(r,l)}}else if("number"==o&&n[o]){if(!s.regexp(t,"number")){l=s.errorMassage("number",a.messages[i]);s.addError(r,l)}}else if("maxlength"==o){var d=n[o];if(t.length>d){l=s.errorMassage("maxlength",a.messages[i],d);s.addError(r,l)}}else if("minlength"==o){d=n[o];if(t.length<d){l=s.errorMassage("minlength",a.messages[i],d);s.addError(r,l)}}}else if("email"==r.attr("type")&&!s.regexp(t,"email")){l=s.errorMassage("email",a.messages[i]);s.addError(r,l)}},addError:function(r,s){var t="<"+a.errorEl+' class="'+a.errorClass+'">'+s+"</"+a.errorEl+">";r.closest(e("."+a.elementContainer)).addClass(a.errorClassEl).append(t)},errorMassage:function(e,r,s){var t;for(var i in r)i==e&&(t=r[e]);return t=t||a.messages[e],s?t+" "+s:t}};r.on("submit",function(a){r.hasClass("validate_form")||(a.preventDefault(),r.find("select, input").each(function(){s.validate(e(this))}),s.checkForm())}),r.on("change input blure","input, select, textarea",function(){s.validate(e(this))})})}})}(jQuery);